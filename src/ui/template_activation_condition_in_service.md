---
title: Տպելու ձևանմուշի ակտիվացման բանաձև
---

## Ներածություն

Փաստաթղթին կապակցված տպելու ձևանմուշի հասանելիությունը սահմանափակելու համար նկարագրվում է ակտիվացման բանաձև։

## Տպելու ձևանմուշի ակտիվացման բանաձևի սահմանում

Սերվիսում տպելու ձևանմուշի ակտիվացման բանաձև սահմանելու համար անհրաժեշտ է`
* .as ընդլայնմամբ ֆայլ սկրիպտերում [SERVERSIDEMODULE](../server_api/Extensions/Definitions/ServerSideModule/server_side_module.md) նկարագրությամբ, որը պարունակում է մետատվյալներ ակտիվացման բանաձևի մասին,
* .cs ընդլայնմամբ ֆայլ, որը պարունակում է ակտիվացման բանաձևը նկարագրող C# դասը՝ բանաձևը հաշվարկող ֆունկցիայով։ 

Նշված ֆայլերի լրացումից հետո անհրաժեշտ է .as ընդլայնմամբ ֆայլը ներմուծել համակարգ **SYSCON** գործիքի միջոցով, որի արդյունքում կներմուծվի նաև .cs ընդլայնմամբ ֆայլը։

**Կարևոր**

Ակտիվացման բանաձևը հաշվարկող ֆունկցիայի վերադարձվող արժեքի տիպը պետք է լինի `bool` և որպես պարամետր ստանա [Document](../server_api/Definitions/Document/Document.md) դասի օբյեկտ, որը տպելու ձևանմուշին կապակցված փաստաթուղթն է։ **Հաշվարկող ֆունկցիայի անունը կարող է լինել կամայական**։

### Օրինակ

```as4x
SERVERSIDEMODULE {
  NAME = TestActivationCondition;
  CAPTION = "Թեստային ակտիվացման բանաձև";
  ECAPTION = "Test activation condition";
  CSSOURCE = Activation.cs;
};
```

```c#
public class Activation
{
    public bool IsTemplateAvailable(Document doc)
    {
        return (string)doc["Depart"] != "value1" && (DateTime?)doc["Date"] == null;
    }
}
```

## Ակտիվացման բանաձևի կապակցում տպելու ձևանմուշին

[Տպելու ձևանմուշի ակտիվացման բանաձևի սահմանումից](#տպելու-ձևանմուշի-ակտիվացման-բանաձևի-սահմանում) հետո այն ձևանմուշին կապակցելու համար անհրաժեշտ է՝
* բացել «Ադմինիստրատորի աշտ» -> «Համակարգային աշխատանքներ» -> «Տպելու ձևանմուշներ» -> **«Փաստաթղթի տպելու ձևանմուշներ»** հաշվետվությունը,
* տպելու ձևանմուշի վրայից կանչել **«Ավելացնել»/«Խմբագրել»** կոնտեքստային ֆունկցիան, որի արդյունքում բացված պատուհանի **«Ակտիվացման բանաձև սերվիսում»** դաշտում անհրաժեշտ է լրացնել [սերվերային մոդուլի անունը](../server_api/Extensions/Definitions/ServerSideModule/server_side_module.md#name), C# դասի անունը և ակտիվացման բանաձևը հաշվարկող ֆունկցիայի անունը՝ իրարից անջատելով կետերով (**server_side_module_name.class_name.function_name**):

Վերևում բերված [օրինակի](#օրինակ) համար կլինի "TestActivationCondition.Activation.IsTemplateAvailable":

![Տպելու ձևանմուշի ակտիվացման բանաձևի կապակցում](Images/template_activation_condition_in_service/document_print_templates_edit.png)

![Փաստաթղթի տպելու ձևանմուշներ](Images/template_activation_condition_in_service/document_print_templates.png)

