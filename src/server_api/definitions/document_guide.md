
---
layout: page
title: "(Document) Փաստաթղթի նկարագրման ձեռնարկ"
tags: [Document]
---

## Բովանդակություն

* [Նախաբան](#նախաբան)
* [Փաստաթղթի նկարագրման համար անհրաժեշտ քայլեր](#փաստաթղթի-նկարագրման-համար-անհրաժեշտ-քայլեր)
  * [.as ընդլայնմամբ ֆայլի սահմանում](#as-ընդլայնմամբ-ֆայլի-սահմանում)
  * [.cs ընդլայնմամբ ֆայլի սահմանում](#cs-ընդլայնմամբ-ֆայլի-սահմանում)
    * [Կոնստրուկտորի ձևավորում](#կոնստրուկտորի-ձևավորում)
    * [Նկարագրման հատվածի ձևավորում](#նկարագրման-հատվածի-ձևավորում)
    * [Մեթոդներ](#մեթոդներ)


## Նախաբան

8X-ում փաստաթղթի նկարագրության համար հարկավոր է ունենալ 
- .as ընդլայնմամբ ֆայլ սկրիպտերում, որը պարունակում է մետատվյալներ փաստաթղթի մասին,
- .cs ընդլայնմամբ ֆայլ, որը պարունակում է սերվերում աշխատող տրամաբանությունը։ 

## Փաստաթղթի նկարագրման համար անհրաժեշտ քայլեր

## .as ընդլայնմամբ ֆայլի սահմանում
- Ստեղծել .as ընդլայնմամբ ֆայլ՝ ավելացնելով DOCUMENT տիպի նկարագրություն, որը պարունակում է փաստաթղթի՝
  - NAME - ներքին անվանումը,
  - CAPTION - հայերեն անվանումը՝ `ANSI` կոդավորմամբ,
  - ECAPTION - անգլերեն անվանումը,
  - PROCESSINGMODE - կատարման ռեժիմը։
- Ստեղծված ֆայլը ներմուծել տվյալների բազա `Syscon` գործիքով։

```c#

```

## .cs ընդլայնմամբ ֆայլի սահմանում

Ամբողջական կոդը դիտելու համար [տե՛ս](/src/server_api/examples/ds/array_based_code.cs): 

- Հայտատարել դաս, որը ունի փաստաթղթի ներքին անվանումը պարունակող `Document` ատրիբուտը և  ժառանգում է Document դասը։

```c#

```

### Կոնստրուկտորի ձևավորում

- Ձևավորել կոնստրուկտորը՝ IServiceProvider տիպի պարտադիր պարամետրով, որը պիտի կանչի base Document դասի կոնստրուկտորը և փոխանցի IServiceProvider տիպի պարամետրը: Կոնստուկտորում անհրաժեշտ է [ինյեկցիա](https://learn.microsoft.com/en-us/dotnet/core/extensions/dependency-injection) անել աշխատանքի համար անհրաժեշտ service-ները։

```c#

```

## Նկարագրման հատվածի ձևավորում

### Մուտքագրման դաշտերի(ռեկվիզիտների) ավելացում

- Ավելացնել մուտքագրման դաշտերը որպես հատկություններ` սահմանելով հետևյալ կառուցվածքով՝
  -  get-ում վերադարձնել մուտքագրման դաշտի արժեքը՝ base դասի indexer-ին տալով դաշտի անվանումը և այդ արժեքը բերելով հատկության տիպի,
  -  set-ում base դասի indexer-ին տալ մուտքագրման դաշտի անվանումը և վերագրել դաշտի արժեքը։

```c#

```

### Աղյուսակների(գրիդերի) ավելացում

- Սահմանել դաս աղյուսակի տողերի համար, որը պետք է պարտադիր ժառանգի `GridRow` դասից: Դասում ավելացնել սյուները որպես հատկություններ` սահմանելով հետևյալ կառուցվածքով՝
	-  get-ում վերադարձնել սյան արժեքը՝ base դասի indexer-ին տալով սյան անվանումը և այդ արժեքը բերելով հատկության տիպի,
	-  set-ում base դասի indexer-ին տալ սյան անվանումը և վերագրել սյան արժեքը։

```c#

```

- Սահմանել Grid&lt;T&gt; տիպի հատկություն՝ որպես T փոխանցելով աղյուսակի տողերը նկարագրող դասը: Վերադարձնել base դասի Grids IReadOnlyDictionary&lt;string, IGrid&gt; տիպի հատկության աղյուսակի անունով անդամը՝ բերելով Grid&lt;T&gt; տիպի:

```c#

```

###  Մեծ տեքստային դաշտերի(մեմոների) ավելացում

- Ավելացնել մեմոները որպես հատկություններ` սահմանելով հետևյալ կառուցվածքով՝
  -  get-ում վերադարձնել GetMemo մեթոդի կանչը՝ փոխանցելով մեմոյի անվանումը,
  -  set-ում կանչել SetMemo մեթոդը՝ փոխանցելով մեմոյի անվանումը և արժեքը։

```c#

```

## Մեթոդներ


### Folders

-  Փաստաթուղթը FOLDERS աղյուսակում գրանցելու համար անհրաժեշտ է override անել [Folders](https://armsoft.github.io/as4x-docs/HTM/ProgrGuide/ScriptProcs/Folders.html) մեթոդը՝ ստեղծելով և store անելով `FolderElement` դասի օբյեկտ, որը հանդիսանում է 4x համակարգում նկարագրված [AsFoldElement](https://armsoft.github.io/as4x-docs/HTM/ProgrGuide/Functions/AsFoldElement.html) դասի համարժեքը։

```c#

```

### Delete

-  Եթե կա անհրաժեշտություն փաստաթղթի հեռացումից առաջ ստուգումներ կատարելու և կապակցված տվյալներ հեռացնելու, ապա անհրաժեշտ է override անել [Delete](https://armsoft.github.io/as4x-docs/HTM/ProgrGuide/ScriptProcs/Delete.html) մեթոդը:

```c#

```

### Validate

-  Դաշտերի արժեքների ստուգման անհրաժեշտության դեպքում override անել [Validate](https://armsoft.github.io/as4x-docs/HTM/ProgrGuide/ScriptProcs/Validate.html) մեթոդը:

```c#

```

### Action

-  Փաստաթղթի գրանցման ժամանակ  հավելյալ ստուգումներ կատարելու,   լոգում, տվյալների բազայի աղյուսակներում փոխկապակցված գրանցումներ կատարելու, ինչ-որ պայմաններից կախված փաստաթղթի էլեմենտների(ռեկվիզիտ, մեմո, աղյուսակ) և հատկությունների արժեքները փոփոխելու համար անհրաժեշտ է override անել [Action](https://armsoft.github.io/as4x-docs/HTM/ProgrGuide/ScriptProcs/Action.html) մեթոդը:

```c#

```

### DefaultComment

-  Փաստաթուղթը FOLDERS աղյուսակում գրանցելիս աղյուսակի fCOM դաշտի լրացման անհրաժեշտ է override անել [DefaultComment](https://armsoft.github.io/as4x-docs/HTM/ProgrGuide/ScriptProcs/DefaultComment.html) մեթոդը:
Override չանելու դեպքում fCOM դաշտում լրացվելու է փաստաթղթի հայերեն անվանումը։

```c#

```
