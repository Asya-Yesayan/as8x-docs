<select id="version-selector" onchange="selectVersion(this.value)">
  {% for item in site.data.versions %}
    <option value="{{ item.version }}">{{ item.version }}</option>
  {% endfor %}
</select>

<script>
  function selectVersion(version) {
    localStorage.setItem('selectedVersion', version);
    location.reload(); // reload to apply the version to conditionals
  }

  document.addEventListener('DOMContentLoaded', function () {
    const selected = localStorage.getItem('selectedVersion');
    if (selected) {
      document.getElementById('version-selector').value = selected;
      document.documentElement.setAttribute('data-version', selected);
    }
  });
</script>
